(this["webpackJsonpreact-chess"]=this["webpackJsonpreact-chess"]||[]).push([[0],[,,,function(e,t,n){e.exports={game:"Game_game__2IT7I",top_bar:"Game_top_bar__1FJgZ",bottom_bar:"Game_bottom_bar__3Dx5a",controls:"Game_controls__68rD-",icon:"Game_icon__wQtM2",info:"Game_info__1bXHP"}},,,function(e,t,n){e.exports={tile:"Tile_tile__MUOVe",animated:"Tile_animated__-NfYW",draggable:"Tile_draggable__yuadG",dragging:"Tile_dragging__BxO6X"}},,function(e,t,n){e.exports={PlayerCard:"PlayerCard_PlayerCard__2NVBM",profile_image:"PlayerCard_profile_image__1UOpu",name:"PlayerCard_name__2tofi"}},,function(e,t,n){e.exports={board:"Board_board__2jIW5",arrows:"Board_arrows__VA_3l"}},function(e,t,n){e.exports={piece:"Piece_piece__JLVtF",image:"Piece_image__2YvGE","float-in":"Piece_float-in__3ypBW"}},function(e,t,n){e.exports=n.p+"static/media/profile.a258f388.svg"},,,function(e,t,n){e.exports={app:"App_app__28xtY"}},function(e,t,n){e.exports=n.p+"static/media/w_pawn.5cf462e4.svg"},function(e,t,n){e.exports=n.p+"static/media/b_pawn.c64efe83.svg"},function(e,t,n){e.exports=n.p+"static/media/w_rook.a3e85776.svg"},function(e,t,n){e.exports=n.p+"static/media/b_rook.f4020d2d.svg"},function(e,t,n){e.exports=n.p+"static/media/w_knight.a06a9056.svg"},function(e,t,n){e.exports=n.p+"static/media/b_knight.a651e3ac.svg"},function(e,t,n){e.exports=n.p+"static/media/w_bishop.07e16392.svg"},function(e,t,n){e.exports=n.p+"static/media/b_bishop.cc440371.svg"},function(e,t,n){e.exports=n.p+"static/media/w_queen.47bf56f2.svg"},function(e,t,n){e.exports=n.p+"static/media/b_queen.21b99ed2.svg"},function(e,t,n){e.exports=n.p+"static/media/w_king.209f8af0.svg"},function(e,t,n){e.exports=n.p+"static/media/b_king.f0d0d19f.svg"},,function(e,t,n){e.exports=n(35)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(14),c=n.n(i),o=(n(34),n(15)),l=n.n(o),u=n(2),s=n(10),f=n.n(s),m=n(28),d=function(e){var t=Object(a.useState)(e),n=Object(u.a)(t,2),r=n[0],i=n[1],c=function(e){i(r.filter((function(t,n){return n!==e})))};return{value:r,add:function(e){i([].concat(Object(m.a)(r),[e]))},remove:c,pop:function(){if(0===r.length)return null;var e=r[r.length-1];return c(r.length-1),e},set:i,clear:function(){i([])}}},p=n(4),g=n(6),v=n.n(g),h=function(e){var t=e.className,n=e.size,i=e.x,c=e.y,o=e.children,l=e.draggable,s=e.animated,f=e.shade,m=Object(a.useState)(null),d=Object(u.a)(m,2),g=d[0],h=d[1],b=Object(a.useState)(!1),_=Object(u.a)(b,2),E=_[0],y=_[1],x=Object(a.useRef)(null),w=function(e){var t=x.current,n=t.parentElement.getBoundingClientRect(),a={x:(e.clientX-n.left)/t.offsetWidth-.5,y:(e.clientY-n.top)/t.offsetHeight-.5};h(a)},k=function e(t){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",e),y(!1)},j=[v.a.tile,t];E&&j.push(v.a.dragging),l&&j.push(v.a.draggable),s&&j.push(v.a.animated);var M=i,O=c;E&&(M=g.x,O=g.y);var P=1;E&&(P=1.1);var N={};void 0!==f&&(N.backgroundColor=f,N.opacity="0.4");var S=["translate(".concat(100*M,"%,").concat(100*O,"%)"),"scale(".concat(P,")")];return r.a.createElement("div",{className:j.join(" "),onMouseDown:function(e){l&&0===e.button&&(e.preventDefault(),document.addEventListener("mouseup",k),document.addEventListener("mousemove",w),y(!0),h({x:i,y:c}))},ref:x,style:Object(p.a)({},N,{width:n,height:n,transform:S.join(" ")})},o)};h.defaultProps={animated:!1,draggable:!1,shade:void 0};var b=h,_=n(11),E=n.n(_),y=function(e,t){return e.pieces[t].info},x=function(e){return Object(p.a)({},e)},w=function(e){return Object(p.a)({},e,{info:Object(p.a)({},e.info),grid:e.grid.map((function(e){return e.slice()})),pieces:e.pieces.map(x)})},k=function(e,t,n){var a=function(e,t){var n={pos:null,info:t},a=e.pieces.length,r=w(e);return r.pieces.push(n),[r,a]}(e,n),r=Object(u.a)(a,2),i=r[0],c=r[1];return i=N(i,t,c)},j=function(e,t,n){var a=w(e);return a.pieces[t].pos=n,a},M=function(e,t){return e.grid[t.y][t.x]},O=function(e,t){return M(e,t)},P=function(e,t){return t.x>=0&&t.x<e.width&&t.y>=0&&t.y<e.height},N=function(e,t,n){var a=w(e),r=M(a,t);return null!==r&&(a=j(a,r,null)),a.grid[t.y][t.x]=n,null!==n&&(a=j(a,n,t)),a},S=function(e,t,n){var a=O(e,t),r=function(e,t){return N(e,t,null)}(e,t);return(r=N(r,n,a)).lastMove={from:t,to:n},r},C=function(e,t){return e.x===t.x&&e.y===t.y},z=n(16),B=n.n(z),L=n(17),I=n.n(L),G=n(18),D=n.n(G),T=n(19),W=n.n(T),q=n(20),J=n.n(q),Y=n(21),R=n.n(Y),V=n(22),X=n.n(V),A=n(23),F=n.n(A),H=n(24),U=n.n(H),Q=n(25),Z=n.n(Q),$=n(26),K=n.n($),ee=n(27),te=n.n(ee),ne=function(){for(var e=function(e,t,n){for(var a=[],r=0;r<t;r++){a.push([]);for(var i=0;i<e;i++)a[r].push(null)}return{width:e,height:t,grid:a,pieces:[],info:n,lastMove:null,capturedPieces:{white:[],black:[]}}}(8,8,{currentSide:"white"}),t=0;t<8;t++)e=k(e,{x:t,y:1},{type:"pawn",side:"black"}),e=k(e,{x:t,y:6},{type:"pawn",side:"white"});var n=[{y:0,side:"black"},{y:7,side:"white"}];return["rook","knight","bishop","queen","king","bishop","knight","rook"].forEach((function(t,a){n.forEach((function(n){var r=n.y,i=n.side;e=k(e,{x:a,y:r},{type:t,side:i})}))})),e},ae={pawn:{name:"pawn",image:{white:B.a,black:I.a}},rook:{name:"rook",image:{white:D.a,black:W.a}},bishop:{name:"bishop",image:{white:X.a,black:F.a}},king:{name:"king",image:{white:K.a,black:te.a}},queen:{name:"queen",image:{white:U.a,black:Z.a}},knight:{name:"knight",image:{white:J.a,black:R.a}}},re=function(e){var t=e.info,n=e.size,a=e.pos,i=e.draggable,c=null;return null!==ae[t.type].image&&(c=ae[t.type].image[t.side]),r.a.createElement(b,{className:E.a.piece,size:n,x:a.x,y:a.y,draggable:i,animated:!0},r.a.createElement("div",{className:E.a.image,style:{backgroundImage:'url("'.concat(c,'")')}}))},ie=function(e){var t=e.tileSize,n=e.state,i=e.onMove,c=Object(a.useState)(null),o=Object(u.a)(c,2),l=o[0],s=o[1],m=Object(a.useState)(null),p=Object(u.a)(m,2),g=p[0],v=p[1],h=n.width,_=n.height,E=n.pieces,x=n.lastMove,w=n.info,k=Object(a.useRef)(null),j=Object(a.useState)(null),N=Object(u.a)(j,2),S=(N[0],N[1]),z=d([]),B=z.value,L=z.add,I=z.clear;Object(a.useEffect)((function(){I()}),[n]),Object(a.useEffect)((function(){null!==g&&(i(g),v(null))}),[g,i]);var G=function(e){var t=k.current.getBoundingClientRect();return{x:Math.floor((e.clientX-t.left)/t.width*h),y:Math.floor((e.clientY-t.top)/t.height*_)}},D=function(e){var t=G(e);if(!P(n,t))return null;S(t),document.addEventListener("mouseup",T)},T=function e(t){S((function(e){if(null===e)return null;var a=G(t);return P(n,a)?(L({from:e,to:a}),null):null})),document.removeEventListener("mouseup",e)},W=function(e){var t=G(e);if(!P(n,t))return null;if(null===l){if(function(e,t){return null===M(e,t)}(n,t))return;var a=O(n,t);if(y(n,a).side!==w.currentSide)return;s(t),document.addEventListener("mouseup",q)}else v({from:l,to:t}),s(null)},q=function e(t){s((function(e){var a=G(t);return null===e?null:P(n,a)?C(e,a)?e:(v({from:e,to:a}),null):null})),document.removeEventListener("mouseup",e)},J=x&&r.a.createElement("div",null,r.a.createElement(b,Object.assign({size:t,shade:"green"},x.from)),r.a.createElement(b,Object.assign({size:t,shade:"green"},x.to))),Y=l&&r.a.createElement(b,Object.assign({size:t,shade:"yellow"},l)),R=r.a.createElement("div",null,E.map((function(e,a){if(null===e.pos)return null;var i=n.info.currentSide===e.info.side&&(null===l||C(l,e.pos));return r.a.createElement(re,Object.assign({key:a,size:t,draggable:i},e))}))),V=r.a.createElement("svg",{className:f.a.arrows,viewBox:"0 0 100 100"},B.map((function(e,t){var n=e.from,a=e.to,i=100/h/2,c=100/_/2,o=n.x/h*100+i,l=n.y/_*100+c;if(C(n,a))return r.a.createElement("circle",{key:t,cx:o,cy:l,r:"0.35rem",fill:"none"});var u=function(e,t){var n=function(e,t){return{x:e.x-t.x,y:e.y-t.y}}(t,e);return Math.atan2(n.y,n.x)}(a,n),s=a.x/h*100+i,f=a.y/_*100+c;return r.a.createElement("g",{key:t},r.a.createElement("path",{d:"M ".concat(o,",").concat(l," ").concat(s,",").concat(f)}),r.a.createElement("path",{d:"M ".concat(s,",").concat(f," ").concat(s+5*Math.cos(u+20/180*Math.PI),",").concat(f+5*Math.sin(u+20/180*Math.PI))}),r.a.createElement("path",{d:"M ".concat(s,",").concat(f," ").concat(s+5*Math.cos(u-20/180*Math.PI),",").concat(f+5*Math.sin(u-20/180*Math.PI))}))})));return r.a.createElement("div",{className:f.a.board,ref:k,onMouseDown:function(e){0===e.button?W(e):D(e)},onContextMenu:function(e){e.preventDefault()},style:{width:"calc(".concat(t," * ").concat(h,")"),height:"calc(".concat(t," * ").concat(_,")")}},J,Y,R,V)};ie.defaultProps={tileSize:"5rem"};var ce=ie,oe=n(3),le=n.n(oe),ue=n(12),se=n.n(ue),fe=n(8),me=n.n(fe),de=function(e){e.src;var t=e.name,n=e.time;e.active;return r.a.createElement("div",{className:me.a.PlayerCard},r.a.createElement("img",{className:me.a.profile_image,src:se.a,alt:"".concat(t," profile")}),r.a.createElement("div",{className:me.a.name},t),r.a.createElement("div",null,n))};de.defaultProps={src:se.a,active:!0,time:"10:00",name:"Example"};var pe=n(0),ge=n(9),ve=function(){var e=Object(a.useState)(ne()),t=Object(u.a)(e,2),n=t[0],i=t[1],c=d([]),o=c.value,l=c.add,s=c.pop,f=c.set;return r.a.createElement("div",{className:le.a.game},r.a.createElement(ce,{state:n,onMove:function(e){if(function(e,t,n){if(C(t,n))return!1;var a=O(e,n),r=O(e,t),i=y(e,r),c=(i.type,i.side);if(c!==e.info.currentSide)return!1;if(null!==a){var o=y(e,a),l=o.type;if(c===o.side)return!1;if("king"===l)return!1}return!0}(n,e.from,e.to)){l(n);var t=S(n,e.from,e.to);t=function(e){var t=w(e),n=e.info.currentSide;return t.info.currentSide="white"===n?"black":"white",t}(t),i(t)}}}),r.a.createElement("div",{className:le.a.top_bar},r.a.createElement("div",{className:le.a.controls},r.a.createElement(pe.b.Provider,{value:{className:le.a.icon,size:"1.5rem"}},r.a.createElement(ge.c,{onClick:function(){var e=s();e&&i(e)}}),r.a.createElement(ge.b,{onClick:function(){var e=ne();i(e),f([])}}),r.a.createElement(ge.a,{onClick:function(){var e,t,a=w(n),r=[];for(a.grid=a.grid.map((function(e){return e.map((function(e,t){return null!==e&&(r.push(e),a.pieces[e].pos=null),null}))}));r.length>0;)if(e=Math.floor(Math.random()*n.width),t=Math.floor(Math.random()*n.height),null===a.grid[t][e]){var c=r.pop();a.grid[t][e]=c,a.pieces[c].pos={x:e,y:t}}f([]),i(a)}}))),r.a.createElement("div",{className:le.a.info},r.a.createElement("div",{className:le.a.info_point},r.a.createElement("b",null,"Current Turn: "),n.info.currentSide," (",o.length,")"))),r.a.createElement("div",{className:le.a.bottom_bar},r.a.createElement("span",null,r.a.createElement("b",null,"react-chess")," ","... just the ui :P"),r.a.createElement("span",null,r.a.createElement("b",null,"by:")," ",r.a.createElement("a",{href:"https://github.com/Mjtlittle"},"Joshua Little"))))};var he=function(){return r.a.createElement("div",{className:l.a.app},r.a.createElement(ve,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[29,1,2]]]);
//# sourceMappingURL=main.d3d2c22e.chunk.js.map